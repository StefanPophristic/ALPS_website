<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ALPS Lab</title>
    <meta name="description" content="interActive Language Processing Lab at Stanford (ALPS Lab for short)
">

    <link rel="stylesheet" href="http://localhost:4000/css/main.css">
    <link rel="stylesheet" href="http://localhost:4000/css/tables.css">

    <link rel="stylesheet" href="./css/tables.css">



    <link rel="canonical" href="http://localhost:4000/mturk-tools.html">
    <script src="assets/js/webppl.min.js"></script>
</head>


  <body>

    <header class="site-header">

  <a href="http://localhost:4000/"><img class="header-logo" src="http://localhost:4000/images/alpslogo-dark-notext-smaller.png" alt="ALPS Lab"></img></a>

  <div class="wrapper">

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">

        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/index.html">Home</a>
          </div>
          
        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/people.html">People</a>
          </div>
          
        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/publications.html">Publications</a>
          </div>
          
        
          
        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/join.html">Join</a>
          </div>
          
        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/resources.html">Resources</a>
          </div>
          
        
          
          <div class="page-link-wrapper">
            <a class="page-link" href="http://localhost:4000/blog.html">Blog</a>
          </div>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <h1 id="resources-for-experiments-on-amazons-mechanical-turk">Resources for Experiments on Amazon’s Mechanical Turk</h1>

<p>We write our experiments as webpages, and participants see this as a frame within the Mechanical Turk window. We have some tools that make using Amazon’s Command Line Tools a bit easier.</p>

<p><strong>NOTE:</strong> Chrome, Firefox, and IE block mixed content, so you might have some issues with Turkers seeing a blank window instead of your experiment. This is easy to fix by making all of your links begin with <code class="language-plaintext highlighter-rouge">https://</code> or just //`. Many Turkers will <a href="//mturkforum.com/showthread.php?10046-problem-with-hits">know about this issue</a> and be able to see your HIT anyway, but it’s nicer to make it easily visible.</p>

<h2 id="preparation">Preparation</h2>

<p><strong>Note: read all of the instructions here!! (Amazon’s instructions are not very good.)</strong></p>

<ol>
  <li>
    <p>Download Amazon’s <a href="//requester.mturk.com/developer/tools/clt">Command Line Tools</a></p>

    <p>Follow the “Steps to Getting Started” instructions to create a mTurk requester account, sign up for Amazon Web Services, and install the Command Line Tools.</p>

    <p>Troubleshooting notes for this step:</p>
    <ul>
      <li>follow steps 2-3 on this page <em>before</em> testing that CLT is working.</li>
      <li>If you have Java-related trouble with this step, read the * at the bottom of this page.</li>
      <li>If you have already made an account on sandbox but when you try to post a HIT there, you get <code class="language-plaintext highlighter-rouge">error #1 go to sandbox and complete registration</code>, log out and then log back in, and then it will ask you additional registration questions.)</li>
    </ul>
  </li>
  <li>
    <p>The identifiers that you are instructed to insert in the file mturk.properties in the <code class="language-plaintext highlighter-rouge">/bin</code> folder of your CLT installation are part of your MTurk requester information. To get them, go to the AWS identifier page after you’ve created a Requester account.</p>
  </li>
  <li>
    <p>Also edit mturk.properties to change the service URL from <code class="language-plaintext highlighter-rouge">http://...</code> to <code class="language-plaintext highlighter-rouge">https://...</code> (As of June 8, 2012 it appears that Amazon is requiring you to use <code class="language-plaintext highlighter-rouge">https</code> instead of <code class="language-plaintext highlighter-rouge">http</code>, but the current version of CLT doesn’t reflect this.)</p>
  </li>
</ol>

<h2 id="writing-your-experiment-webpage">Writing Your Experiment Webpage</h2>

<p>You’ll want to write your experiment using HTML/JS/CSS and put it online somewhere. We have a template experiment you can to work off of. You can get it from <a href="//github.com/feste/experiment_template">this github page</a> or you can download the <a href="//github.com/feste/experiment_template/archive/master.zip">zipped file</a>. See the <code class="language-plaintext highlighter-rouge">readme.md</code> included in the folder for instructions.</p>

<h2 id="running-your-experiment">Running Your Experiment</h2>

<p>We have a python script <code class="language-plaintext highlighter-rouge">submiterator.py</code> (originally written by Dan Lassiter) for posting experiments to Mechanical Turk (this may or may not work in Windows). You can get an updated version of Submiterator from <a href="//github.com/feste/Submiterator">this github page</a>, or you can download the <a href="//github.com/feste/Submiterator/archive/master.zip">zipped file</a>.</p>

<ol>
  <li>Download and unzip the submiterator files</li>
  <li>Put the included files in a dedicated folder for your experiment.</li>
  <li>Open the readme.md file in a text editor and follow the instructions, and you should be up and running in no time.</li>
  <li>Note that webpages don’t always display the same way in an mTurk frame that they do when you open them in a normal browser window. Use the sandbox setting in Submiterator to find out whether your experiment displays as expected before going live. This is also important for confirming that the step where data gets sent to mTurk has no bugs in it. You definitely don’t want turkers completing your experiment, but being unable to send you the data and therefore unable to get paid. They don’t like that.</li>
</ol>

<h2 id="getting-data-from-your-experiment">Getting Data From Your Experiment</h2>

<p>If the submiterator tools work on your computer, you can use the included <code class="language-plaintext highlighter-rouge">getresults.sh</code> and <code class="language-plaintext highlighter-rouge">reformat.py</code> to get results into long form tables. You can also see your results (and accept or reject HITs) by going to the web interface for mTurk, clicking on the Manage tab, and then clicking on the tiny link in th eupper right hand corner that says Manage Hits Individually.</p>

<h2 id="additional-information">Additional Information</h2>

<p>*Some additional notes on installation, in case you have Java-related trouble installing CLT:</p>

<ol>
  <li>
    <p>Some people have initially had trouble getting CLT to work due to weird stuff with the version of Java they have installed; eventually they managed to get it working by finding a legacy version of Java buried somewhere in their library and setting the <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> environment variable to this. Don’t know if others will have this problem, but the information is just in case. Not every version of Java will work, apparently.</p>
  </li>
  <li>
    <p>Check out this link if you want to find out where your java home is. Then you can edit the file <code class="language-plaintext highlighter-rouge">~/.bash</code> (or other terminal preferences file, like <code class="language-plaintext highlighter-rouge">~/.bashrc</code> or <code class="language-plaintext highlighter-rouge">~/.bash_profile</code>) and add the line:</p>

 	export JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
  </li>
  <li>
    <p>The script at <code class="language-plaintext highlighter-rouge">/bin/invoke.sh</code> in the folder where you are keeping CLT assumes that your version of Java is in a folder called <code class="language-plaintext highlighter-rouge">/bin/</code> that is one level deeper than your <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> path. If this isn’t right for you, you will need to modify the last line of <code class="language-plaintext highlighter-rouge">invoke.sh</code> in tandem with setting the <code class="language-plaintext highlighter-rouge">JAVA_HOME</code> path in your <code class="language-plaintext highlighter-rouge">.profile</code> (or whatever file your preferences are in) to reflect the correct location.</p>
  </li>
</ol>

      </div>
    </div>

    <footer class="site-footer">

<p><a href="https://linguistics.stanford.edu/">Stanford Linguistics</a> - <a href="http://stanford.edu">Stanford University</a></p>

<!-- <a href="https://twitter.com/ALPSLabStanford">ALPS Lab Twitter</a> -->


  <!-- <div class="wrapper">
    

   <h2 class="footer-heading">ALPS Lab</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>ALPS Lab</li>
          <li><a href="mailto:jdegen@stanford.edu">jdegen@stanford.edu</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/thegricean">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">thegricean</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">interActive Language Processing Lab at Stanford (ALPS Lab for short)
</p>
      </div>
    </div>-->

  </div> 

</footer>


  </body>

</html>
